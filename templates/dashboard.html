DASH_HTML = """
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ëŒ€ì‹œë³´ë“œ - TURI DRM</title>
<style>
body {background:#0f172a;color:white;font-family:'Segoe UI',Arial,sans-serif;padding:20px;margin:0;}
h1 {color:#facc15;text-align:center;}
.table-container {overflow-x:auto;background:#1e293b;padding:20px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.5);}
table {width:100%;border-collapse:collapse;}
th,td {padding:12px;border-bottom:1px solid #334155;text-align:center;}
th {background:#2563eb;color:white;}
tr:hover {background:#334155;}
button {padding:5px 12px;border:none;border-radius:8px;background:#ef4444;color:white;cursor:pointer;transition:0.3s;}
button:hover {background:#dc2626;}
</style>
<script>
function deactivateLicense(key){
    if(!confirm("ì •ë§ë¡œ ë¹„í™œì„±í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
    fetch("/api/drm/lock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license:key})})
    .then(res=>res.json()).then(data=>{
        alert(data.message);
        location.reload();
    }).catch(e=>alert("ì˜¤ë¥˜ ë°œìƒ"));
}
</script>
</head>
<body>
<h1>ğŸ“Š TURI DRM Dashboard</h1>
<div class="table-container">
<table>
<tr><th>ë¼ì´ì„¼ìŠ¤</th><th>ìƒì„±ì¼</th><th>ë§Œë£Œì¼</th><th>í™œì„±</th><th>ìƒíƒœ</th><th>ì•¡ì…˜</th></tr>
{% for key,lic in licenses.items() %}
<tr>
<td>{{ key }}</td>
<td>{{ lic.created_at }}</td>
<td>{{ lic.expires_at }}</td>
<td>{{ "âœ…" if lic.active else "âŒ" }}</td>
<td>{{ "ğŸš« ë¹„í™œì„±" if lic.disabled else "ğŸŸ¢ í™œì„±" }}</td>
<td><button onclick='deactivateLicense("{{ key }}")'>ë¹„í™œì„±í™”</button></td>
</tr>
{% endfor %}
</table>
</div>
</body>
</html>
"""
